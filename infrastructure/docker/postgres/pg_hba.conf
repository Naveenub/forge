# PostgreSQL Client Authentication Configuration
# TYPE  DATABASE        USER            ADDRESS                 METHOD

# Local connections (container internal)
local   all             all                                     trust

# IPv4 local connections
host    all             all             127.0.0.1/32            scram-sha-256

# Allow app connections from forge-network subnet
host    forge_db        forge           172.28.0.0/16           scram-sha-256
host    forge_db        forge_readonly  172.28.0.0/16           scram-sha-256

# Replication
host    replication     replicator      172.28.0.0/16           scram-sha-256
host    replication     replicator      127.0.0.1/32            scram-sha-256
